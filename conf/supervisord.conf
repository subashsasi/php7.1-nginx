[unix_http_server]
file=/var/run/supervisor.sock

[supervisord]
logfile=/var/log/supervisor/supervisord.log
pidfile=/var/run/supervisord.pid
childlogdir=/var/log/supervisor
logfile_maxbytes=50MB        
logfile_backups=10
nodaemon=true
user=root

[rpcinterface:supervisor]
supervisor.rpcinterface_factory = supervisor.rpcinterface:make_main_rpcinterface
[supervisorctl]
serverurl=unix:///var/run/supervisor.sock                                                                                                                                                                          

[program:nginx]
logfile=/var/log/nginx/error.log
command=nginx -g "daemon off;"
autostart=true
autorestart=true
startsecs=10
startretries=3
exitcodes=0
priority=2
stdout_events_enabled=true
stderr_events_enabled=true


[program:php7.2-fpm]
command=/usr/sbin/php-fpm7.1 -c /etc/php/7.1/fpm/php-fpm.conf
autostart=true
autorestart=unexpected
startsecs=10
startretries=3
exitcodes=0
priority=1
stdout_events_enabled=true
stderr_events_enabled=true

[eventlistener:stdout]
command = supervisor_stdout
buffer_size = 100
events = PROCESS_LOG
result_handler = supervisor_stdout:event_handler

